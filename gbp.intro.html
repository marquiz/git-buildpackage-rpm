<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Introduction</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Building Packages with git-buildpackage suite"
HREF="index.html"><LINK
REL="UP"
TITLE="Building Debian Packages with git-buildpackage"
HREF="gbp.html"><LINK
REL="PREVIOUS"
TITLE="Building Debian Packages with git-buildpackage"
HREF="gbp.html"><LINK
REL="NEXT"
TITLE="Importing Sources"
HREF="gbp.import.html"><STYLE
TYPE="text/css"
>.synopsis, .classsynopsis {
    background: #eeeeee;
    border: solid 1px #aaaaaa;
    padding: 0.5em;
}
.programlisting {
    background: #eeeeff;
    border: solid 1px #aaaaff;
    padding: 0.5em;
}
.variablelist {
    padding: 4px;
    margin-left: 3em;
}
.navigation {
    background: #ffeeee;
    border: solid 1px #ffaaaa;
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}
.navigation a {
    color: #770000;
}
.navigation a:visited {
    color: #550000;
}
.navigation .title {
    font-size: 200%;
}</STYLE
></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><TABLE
WIDTH="100%"
CLASS="navigation"
SUMMARY="Navigation header"
CELLPADDING="2"
CELLSPACING="2"
><TR
VALIGN="middle"
><TD
><A
ACCESSKEY="p"
HREF="gbp.html"
><IMG
SRC="left.png"
WIDTH="24"
HEIGHT="24"
BORDER="0"
ALT="Prev"></A
></TD
><TD
><A
ACCESSKEY="u"
HREF="gbp.html"
><IMG
SRC="up.png"
WIDTH="24"
HEIGHT="24"
BORDER="0"
ALT="Up"></A
></TD
><TD
><A
ACCESSKEY="h"
HREF="index.html"
><IMG
SRC="home.png"
WIDTH="24"
HEIGHT="24"
BORDER="0"
ALT="Home"></A
></TD
><TH
WIDTH="100%"
align="center"
>Building Packages with git-buildpackage suite: Version: 0.6.15</TH
><TD
><A
ACCESSKEY="n"
HREF="gbp.import.html"
><IMG
SRC="right.png"
WIDTH="24"
HEIGHT="24"
BORDER="0"
ALT="Next"></A
></TD
></TR
></TABLE
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="GBP.INTRO"
></A
>Introduction</H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
><A
HREF="gbp.intro.html#GBP.REPOSITORY"
>Repository Layout and Terminology</A
></DT
><DT
><A
HREF="gbp.intro.html#GBP.WORKFLOW"
>Workflow</A
></DT
></DL
></DIV
><P
>      Welcome to <B
CLASS="COMMAND"
>gbp</B
>, a system that integrates the
      <A
HREF="http://www.debian.org/"
TARGET="_top"
>Debian</A
> package build
      system with <A
HREF="http://git.or.cz/"
TARGET="_top"
>Git</A
>. The current version of this manual can be found
      <A
HREF="https://honk.sigxcpu.org/piki/projects/git-buildpackage"
TARGET="_top"
>here</A
>.
    </P
><P
>    What can these tools do for you:
    <P
></P
><UL
><LI
><P
>Import an existing <SPAN
CLASS="PRODUCTNAME"
>Debian</SPAN
> package into <SPAN
CLASS="PRODUCTNAME"
>Git</SPAN
></P
></LI
><LI
><P
>Import new upstream versions, NMUs etc. with optional filters</P
></LI
><LI
><P
>Automatic upstream tarball generation</P
></LI
><LI
><P
>Maintain a consistent branch and tag naming across
    repositories or across a team of developers</P
></LI
><LI
><P
>Automatically sign tags</P
></LI
><LI
><P
>Automatically push changes to remote repositories</P
></LI
><LI
><P
>Make sure you have committed all changes to the right
    branch before releasing</P
></LI
><LI
><P
>Export to a clean build area before building</P
></LI
><LI
><P
>Automatic debian/changelog generation</P
></LI
><LI
><P
>Automatic generation of snapshot releases for local testing</P
></LI
><LI
><P
>Simple patch management</P
></LI
></UL
>
    All of this is (hopefully) being done without restricting the user to certain usage patterns.
    </P
><BR
CLEAR="all"><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="GBP.REPOSITORY"
>Repository Layout and Terminology</A
></H1
><P
>It is recommended to have the Debian packaging on a seprate
	branch than the upstream source <A
NAME="AEN50"
HREF="#FTN.AEN50"
><SPAN
CLASS="footnote"
>[1]</SPAN
></A
>.
	This is necessary to be able to import
	and merge in new upstream versions via <B
CLASS="COMMAND"
>gbp import-orig</B
>.
	To distinguish these two branches the following terminology
	<A
NAME="AEN53"
HREF="#FTN.AEN53"
><SPAN
CLASS="footnote"
>[2]</SPAN
></A
> is used:
	</P
><P
></P
><UL
><LI
><P
>The <CODE
CLASS="OPTION"
>debian-branch</CODE
> (the default branch
	name used in the <SPAN
CLASS="PRODUCTNAME"
>Git</SPAN
> repository is <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>master</I
></SPAN
>) holds
	your current development work.  That's the branch you usually cut your
	releases from and the default branch new upstream releases are merged
	onto.</P
></LI
><LI
><P
> The <CODE
CLASS="OPTION"
>upstream-branch</CODE
> (the default
	branch name used in the <SPAN
CLASS="PRODUCTNAME"
>Git</SPAN
> repository is
	<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>upstream</I
></SPAN
>) holds the upstream releases. This can
	either be a branch you import to or a branch of an upstream repository
	you pull from.</P
></LI
><LI
><P
> The <CODE
CLASS="OPTION"
>pristine-tar branch</CODE
> (the default
	branch name used in the <SPAN
CLASS="PRODUCTNAME"
>Git</SPAN
> repository is
	<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>pristine-tar</I
></SPAN
>) holds the necessary additional
	information to recreate the original tarball from the
	<CODE
CLASS="OPTION"
>upstream-branch</CODE
>. In order to use this feature you need
	to install the <SPAN
CLASS="PRODUCTNAME"
>pristine-tar</SPAN
> package.</P
></LI
><LI
><P
> There can be one or more <CODE
CLASS="OPTION"
>patch-queue
	branches</CODE
>. Every patch-queue branch is related to a
	<CODE
CLASS="OPTION"
>debian-branch</CODE
>. If the <CODE
CLASS="OPTION"
>debian-branch</CODE
> is called
	<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>master</I
></SPAN
> the corresponding patch-queue branch is
	called <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>patch-queue/master</I
></SPAN
>. The patch-queue branch is 
	the debian branch plus the contents of
	<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>debian/patches</I
></SPAN
> applied. These branches are managed
	with <B
CLASS="COMMAND"
>gbp pq</B
>.
	</P
></LI
></UL
><P
>You're completely
	free to pick any repository layout and the branch names above are only
	<B
CLASS="COMMAND"
>gbp</B
>'s defaults. They can be changed at any point in time
	and you can work with an arbitrary number of branches.
	For example branches like  <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>nmu</I
></SPAN
>,
	<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>backports</I
></SPAN
> or <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>stable</I
></SPAN
> might
	(temporarily or permanent) become your <CODE
CLASS="OPTION"
>debian-branch</CODE
>
	and branches like <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>dfsg</I
></SPAN
> or
	<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>snapshots</I
></SPAN
> might become your
	<CODE
CLASS="OPTION"
>upstream-branch</CODE
> - it doesn't matter if these branches
	are maintained with <B
CLASS="COMMAND"
>gbp import-orig</B
> or not.</P
><P
>        A recommended branch layout is described in <A
HREF="gbp.import.html#GBP.BRANCH.NAMING"
>the Section called <I
>Branch layout</I
> in the Chapter called <I
>Importing Sources</I
></A
>.
        </P
><P
>Since <B
CLASS="COMMAND"
>gbp buildpackage</B
> only works with local <SPAN
CLASS="PRODUCTNAME"
>Git</SPAN
>-repositories
	you have to use <B
CLASS="COMMAND"
>git push</B
> in order to publish your
	changes to remote repositories like <A
HREF="http://git.debian.org/"
TARGET="_top"
>git.debian.org</A
>, this can also be
	automized with <B
CLASS="COMMAND"
>gbp buildpackage</B
>'s <CODE
CLASS="OPTION"
>post-tag</CODE
>
	hook.</P
></DIV
><BR
CLEAR="all"><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="GBP.WORKFLOW"
>Workflow</A
></H1
><P
>    	A typical, simple workflow consists of the following steps:
    </P
><P
></P
><OL
TYPE="1"
><LI
><P
>Import a new Debian package via <B
CLASS="COMMAND"
>gbp import-dsc</B
>. This
	imports the <SPAN
CLASS="PRODUCTNAME"
>Debian</SPAN
> Package on the <CODE
CLASS="OPTION"
>debian-branch</CODE
>
	and the upstream sources on the <CODE
CLASS="OPTION"
>upstream-branch</CODE
>.</P
></LI
><LI
><P
>Develop, test, commit changes. During this time you can
	always build the package with <B
CLASS="COMMAND"
>gbp buildpackage</B
>. In case you have
	uncommitted changes in your source tree you can use the
	<CODE
CLASS="OPTION"
>--git-ignore-new</CODE
> option.</P
></LI
><LI
><P
>Optionally you can create the Debian changelog entries
	using <B
CLASS="COMMAND"
>gbp dch</B
> and create snapshot releases for testing using its
	<CODE
CLASS="OPTION"
>--snapshot</CODE
> option.</P
></LI
><LI
><P
>Once satisfied you can build the final package with
	<B
CLASS="COMMAND"
>gbp buildpackage</B
> <CODE
CLASS="OPTION"
>--git-tag</CODE
>. This additionally
	creates a tag within <SPAN
CLASS="PRODUCTNAME"
>Git</SPAN
> so you can switch back to that version later
	at any time. The format of the tags can be specified, tags can
	be <SPAN
CLASS="PRODUCTNAME"
>GPG</SPAN
> signed.</P
></LI
><LI
><P
>When a new upstream version is released and upstream
	isn't using <SPAN
CLASS="PRODUCTNAME"
>Git</SPAN
> you can import the new version via <B
CLASS="COMMAND"
>gbp import-orig</B
>
	onto the <CODE
CLASS="OPTION"
>upstream-branch</CODE
>.  <B
CLASS="COMMAND"
>gbp import-orig</B
> will
	by default try to merge the new upstream version onto the
	<CODE
CLASS="OPTION"
>debian-branch</CODE
>. You can skip the merge with
	<CODE
CLASS="OPTION"
>--no-merge</CODE
>.  After resolving any potential conflicts
	go back to the second step.  </P
></LI
></OL
><P
>These steps will be explaind in more details in the following sections.</P
></DIV
></DIV
><H3
CLASS="FOOTNOTES"
>Notes</H3
><TABLE
BORDER="0"
CLASS="FOOTNOTES"
WIDTH="100%"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN50"
HREF="gbp.intro.html#AEN50"
><SPAN
CLASS="footnote"
>[1]</SPAN
></A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>this, of course, has
	no meaning for Debian native packages</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN53"
HREF="gbp.intro.html#AEN53"
><SPAN
CLASS="footnote"
>[2]</SPAN
></A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>corresponding to the command
	line and config file options</P
></TD
></TR
></TABLE
><TABLE
CLASS="navigation"
WIDTH="100%"
SUMMARY="Navigation footer"
CELLPADDING="2"
CELLSPACING="2"
><TR
VALIGN="middle"
><TD
ALIGN="left"
><A
ACCESSKEY="p"
HREF="gbp.html"
><B
>&lt;&lt;&lt;&nbsp;Building Debian Packages with git-buildpackage</B
></A
></TD
><TD
ALIGN="right"
><A
ACCESSKEY="n"
HREF="gbp.import.html"
><B
>Importing Sources&nbsp;&gt;&gt;&gt;</B
></A
></TD
></TR
></TABLE
></BODY
></HTML
>